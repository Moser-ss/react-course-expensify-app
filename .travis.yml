language: node_js
node_js:
- '10'
branches:
  only:
  - master
addons:
  sonarcloud:
    organization: moser-ss-github
    token:
      secure: viFZUDng5CgudPJQqa8Z/m2MIGUmGXPRSwOjnSKa1Z5oaIaU5iAkhaYhCmTBFESqDvmsrarlJzmtneAZ0roYNRumxsgH7qzPoJ8+0BjhhgRM6t7sWfEketBWP62r7yx1BJETZB6aFFaro1qytBmwYZuoc0iYOysCLmfrgLM6PFdJpXdqc3nqrtdD5PByzyD4VjZ+8ZD7G1q+mUimxI7tn0g6Lc/XYkW8/6hWpraJETB8rtIZaMvXFensCcLpgNqcs15hiYluoTG0swWDx/QRMJy1nwr2/dLig8gWNHUAz9uY3tQLCpVXqeg63deHDpZYHXcGEjkl6yBp6E1rdzWVlILpGuGDG9z/D3YKjN7xrxgkTfRB0hB/93BrhJ9X06ebKZN2s5le7SnPV/OgS9ItstikO5Vo3sDPBRfJ1ifyUrYL1vsuna646kVLhTI32nlyM9SZs8YgMpleMEPEoHAgqvHqryCb25evbgPJeQI064Dz3ZxZX0PXJgDZfI+E5GO9pnC/367FiCuYtSAb1ASIGgCQVpiq1XXZ2CTx75R0ag3ZeaKbGEVVSvFD0FSY/nidUyX57aXaVAZ0k/1ZdFe+kvT/u/UBq+wKFI6OJhTrzqC3OVwQZKjD3/tuz9in4dpVbHwvYv7mA66n37MUN1rlH0wYrDn/9mSFxd2UzD364Zs=
script:
- npm build
- npm run test:coverage
- sonar-scanner
deploy:
  provider: heroku
  api_key:
    secure: EBaCpHSfpkTtbGGFgk8Q39cWvkB+Vq+VbiSfsrv0vsmwlLc0R8j0ZPj5vhRyy+MAUCOgNPD9xIVdDrpk4OqQu84KcNOfihaK/YNrY/421adSjgGd86RgqA6TENkyarkJq/E1R33MUeG4aPu6LBf9eIxyRkAaZOph3u5xARjRwIbaK+BJNimAaBw3qJ9rdWXsJgxQBBfRzyhEB01iSyyG7XZBs3Eg56rMeDS6AQv6o8WdJMzIpdAEvTLaIDFnUsg0oY7OFXU/lRuxy/qYHOBv9H7dnUFYHASDEka1An8OY210KfgOdDbjwRlAroI05u1wCbZGCCqh6qOVljfQ89O7wn9HogQrDqxMMkQqTC3zQtob992EqxMgkvtdfsXMXf08yu1nPkeakZptoR9hHYWaCUbvt8wg8X00sk6sbZNqgoXiaPvMbQK3KrIiDi5PVgAsPqC3dWWxexKegKibcxmy7Li0BCDH9Vzd1k0QJuobTFWme4IMrKnFEhY1SbogM/UmXkgJ65EP4Bo/wm5V+KmqBWXLZPgxkyuTHFQ/K/GYtPKZGaog6wM5vjM/5QZRkP/kyhqi0uktgd5dY5HcubyylejaiQ32ox/oysRm/x4HbXNO6pzkKRkh2m8A//X0810i1Bph8a16mkqKp5ZSGW06DxOjTTCJ/ONthcnJY/Nu5JQ=
  app: moser-ss-expensify-app
  on:
    repo: Moser-ss/react-course-expensify-app
  skip_cleanup: 'true'
